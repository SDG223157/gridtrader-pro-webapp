<!-- Navigation menu -->
{% set current_path = request.url.path %}

<!-- Dashboard -->
<a href="/dashboard" 
   class="group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200
          {% if current_path == '/dashboard' %}bg-indigo-100 text-indigo-700 border-r-2 border-indigo-700{% else %}text-gray-600 hover:bg-gray-100 hover:text-gray-900{% endif %}">
    <i class="fas fa-tachometer-alt mr-3 {% if current_path == '/dashboard' %}text-indigo-500{% else %}text-gray-400 group-hover:text-gray-500{% endif %}"></i>
    Dashboard
</a>

<!-- Portfolios -->
<a href="/portfolios" 
   class="group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200
          {% if current_path.startswith('/portfolios') %}bg-indigo-100 text-indigo-700 border-r-2 border-indigo-700{% else %}text-gray-600 hover:bg-gray-100 hover:text-gray-900{% endif %}">
    <i class="fas fa-briefcase mr-3 {% if current_path.startswith('/portfolios') %}text-indigo-500{% else %}text-gray-400 group-hover:text-gray-500{% endif %}"></i>
    Portfolios
</a>

<!-- Grid Trading -->
<a href="/grids" 
   class="group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200
          {% if current_path.startswith('/grids') %}bg-indigo-100 text-indigo-700 border-r-2 border-indigo-700{% else %}text-gray-600 hover:bg-gray-100 hover:text-gray-900{% endif %}">
    <i class="fas fa-th mr-3 {% if current_path.startswith('/grids') %}text-indigo-500{% else %}text-gray-400 group-hover:text-gray-500{% endif %}"></i>
    Grid Trading
</a>

<!-- Market Data -->
<a href="/market" 
   class="group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200
          {% if current_path.startswith('/market') %}bg-indigo-100 text-indigo-700 border-r-2 border-indigo-700{% else %}text-gray-600 hover:bg-gray-100 hover:text-gray-900{% endif %}">
    <i class="fas fa-chart-line mr-3 {% if current_path.startswith('/market') %}text-indigo-500{% else %}text-gray-400 group-hover:text-gray-500{% endif %}"></i>
    Market Data
</a>

<!-- Analytics -->
<a href="/analytics" 
   class="group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200
          {% if current_path == '/analytics' %}bg-indigo-100 text-indigo-700 border-r-2 border-indigo-700{% else %}text-gray-600 hover:bg-gray-100 hover:text-gray-900{% endif %}">
    <i class="fas fa-chart-bar mr-3 {% if current_path == '/analytics' %}text-indigo-500{% else %}text-gray-400 group-hover:text-gray-500{% endif %}"></i>
    Analytics
</a>

<!-- Divider -->
<div class="my-4 border-t border-gray-200"></div>

<!-- Quick Actions -->
<div class="px-3 py-2">
    <h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wide">Quick Actions</h3>
</div>

<a href="/portfolios/create" 
   class="group flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-lg hover:bg-gray-100 hover:text-gray-900 transition-colors duration-200">
    <i class="fas fa-plus-circle mr-3 text-gray-400 group-hover:text-gray-500"></i>
    New Portfolio
</a>

<a href="/grids/create" 
   class="group flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-lg hover:bg-gray-100 hover:text-gray-900 transition-colors duration-200">
    <i class="fas fa-plus mr-3 text-gray-400 group-hover:text-gray-500"></i>
    New Grid
</a>

<!-- Divider -->
<div class="my-4 border-t border-gray-200"></div>

<!-- Account -->
<div class="px-3 py-2">
    <h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wide">Account</h3>
</div>

<a href="/settings" 
   class="group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200
          {% if current_path == '/settings' %}bg-indigo-100 text-indigo-700 border-r-2 border-indigo-700{% else %}text-gray-600 hover:bg-gray-100 hover:text-gray-900{% endif %}">
    <i class="fas fa-cog mr-3 {% if current_path == '/settings' %}text-indigo-500{% else %}text-gray-400 group-hover:text-gray-500{% endif %}"></i>
    Settings
</a>

<a href="/tokens" 
   class="group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200
          {% if current_path == '/tokens' %}bg-indigo-100 text-indigo-700 border-r-2 border-indigo-700{% else %}text-gray-600 hover:bg-gray-100 hover:text-gray-900{% endif %}">
    <i class="fas fa-key mr-3 {% if current_path == '/tokens' %}text-indigo-500{% else %}text-gray-400 group-hover:text-gray-500{% endif %}"></i>
    API Tokens
</a>

<a href="/help" 
   class="group flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-lg hover:bg-gray-100 hover:text-gray-900 transition-colors duration-200">
    <i class="fas fa-question-circle mr-3 text-gray-400 group-hover:text-gray-500"></i>
    Help & Support
</a>

<!-- Mobile-only logout -->
<div class="md:hidden mt-4 pt-4 border-t border-gray-200">
    {% if is_authenticated %}
    <a href="/logout" class="group flex w-full items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-lg hover:bg-gray-100 hover:text-gray-900 transition-colors duration-200">
        <i class="fas fa-sign-out-alt mr-3 text-gray-400 group-hover:text-gray-500"></i>
        Sign Out
    </a>
    {% else %}
    <div class="space-y-2">
        <a href="/login" class="flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-lg hover:bg-gray-100 hover:text-gray-900 transition-colors duration-200">
            <i class="fas fa-sign-in-alt mr-3 text-gray-400"></i>
            Sign In
        </a>
        <a href="/register" class="flex items-center px-3 py-2 text-sm font-medium bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors duration-200">
            <i class="fas fa-user-plus mr-3"></i>
            Get Started
        </a>
    </div>
    {% endif %}
</div>